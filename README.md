# NilMusic 服务端分离与功能扩充技术方案

## 一、需求

​	原有应用所有数据存储在本地relamDB中，且只根据json配置文件提供简单的歌单与播放功能，无法满足肥豪应付老师的需求，故对原有应用进行改造，将服务端与客户端分离，并对现有歌单功能进行扩充。

## 二、功能与流程

- 提供默认歌单，对所有用户可见
- 用户可创建个人歌单，提供歌名、url、歌手、封面，保存并实现白嫖
- 歌曲播放功能迁移到service
- 实现歌曲播放页面进度条功能
- 视情况添加混淆文件

## 三、框架选型与存储设计

- http服务端使用gin
- 视情况考虑redis直接当db使，还是用redis和mysql做读写分离
- 视情况使用kotlin重构客户端

## 四、核心逻辑

### 1、服务端

- 用户信息存储迁移至服务端
- 服务端api层提供与客户端交互接口

### 2、客户端

- 提供http工具与服务端交互
- 提供自定歌单相关UI
- 歌曲播放功能迁移到service